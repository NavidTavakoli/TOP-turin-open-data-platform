@import "tailwindcss";

/* -------- Theme Tokens -------- */
:root {
  --bg-start: 248 71% 99%;
  --bg-end:   222 47% 96%;
  --card-bg:  0 0% 100% / 0.7;
  --card-bg-d: 222 47% 11% / 0.7;

  /* Neon brand (قابل تغییر) — #00F7FF */
  --neon-h: 186;
  --neon-s: 100%;
  --neon-l: 50%;
}

html, body, #root { height: 100%; width: 100%; }
html, body { margin: 0; padding: 0; }
body { font-family: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; }

/* لایهٔ تمام‌صفحه برای BG (اسکرول محتوا داخلش) */
.app-viewport {
  position: fixed; inset: 0;
  width: 100vw; height: 100dvh;
  overflow-y: auto; overflow-x: hidden;
  isolation: isolate; /* جلوگیری از blend عجیب روی متن */
}

/* پس‌زمینهٔ لایت/دارک */
.app-bg{
  background:
    radial-gradient(1200px 800px at 10% -20%, rgba(99,102,241,.30) 0%, transparent 60%),
    radial-gradient(900px 600px at 90% 0%, rgba(34,197,94,.22) 0%, transparent 55%),
    linear-gradient(180deg, #f8f9ff, #eef2ff);
}
.dark .app-bg{
  background:
    radial-gradient(1200px 800px at 10% -20%, rgba(99,102,241,.15) 0%, transparent 60%),
    radial-gradient(900px 600px at 90% 0%, rgba(34,197,94,.12) 0%, transparent 55%),
    linear-gradient(180deg, #0b1220, #0f172a);
}

/* Glass card */
.card {
  border-radius: 1rem;
  border: 1px solid hsl(215 16% 82% / .6);
  background: color-mix(in oklab, white 70%, transparent);
  box-shadow:
    0 1px 1px hsl(0 0% 0% / .04),
    0 8px 24px hsl(220 40% 2% / .06);
  backdrop-filter: saturate(160%) blur(6px);
  transition: box-shadow .2s ease, transform .2s ease, border-color .2s ease;
}
.dark .card {
  border-color: hsl(222 40% 17% / .6);
  background: hsl(var(--card-bg-d));
}
.card:hover { box-shadow: 0 10px 30px hsl(220 40% 2% / .12); }

/* Small icon badge */
.icon-badge {
  @apply inline-flex items-center justify-center w-6 h-6 rounded-xl;
  box-shadow: inset 0 0 0 1px hsl(215 20% 65% / .3);
  background: color-mix(in oklab, white 70%, transparent);
}

/* عنوان نئونی (پیش‌فرض روشن) */
.title-neon {
  position: relative; z-index: 1;        /* از هر اوورلِی جدا */
  color: currentColor;
  text-shadow:
    0 0 6px  hsla(var(--neon-h), var(--neon-s), calc(var(--neon-l) + 10%), .9),
    0 0 14px hsla(var(--neon-h), var(--neon-s), var(--neon-l), .85),
    0 0 28px hsla(var(--neon-h), var(--neon-s), var(--neon-l), .55);
}
.neon .title-neon {
  text-shadow:
    0 0 10px hsla(var(--neon-h), var(--neon-s), calc(var(--neon-l) + 10%), 1),
    0 0 22px hsla(var(--neon-h), var(--neon-s), var(--neon-l), .95),
    0 0 44px hsla(var(--neon-h), var(--neon-s), var(--neon-l), .75);
}

/* اگر نئون خاموش شد: عنوان گرادیانی با فالبک رنگ تا شبح/باکس دیده نشود */
.title-gradient {
  position: relative; z-index: 1;
  color: #0f172a; /* fallback */
  font-weight: 700; letter-spacing: -0.01em;
  background: linear-gradient(90deg, hsl(222 47% 11%), hsl(222 17% 35%));
  -webkit-background-clip: text; background-clip: text;
}
.dark .title-gradient { color: #e5e7eb; background: linear-gradient(90deg, #fff, hsl(220 10% 70%)); }
@supports ((-webkit-background-clip:text) or (background-clip:text)) {
  .title-gradient { color: transparent; -webkit-text-fill-color: transparent; }
}

/* افکت‌های نئون عمومی */
.neon .icon-neon { box-shadow: 0 0 18px rgba(99,102,241,.55), 0 0 28px rgba(34,197,94,.45) inset; }
.neon .card-neon { box-shadow: 0 8px 34px rgba(99,102,241,.28), 0 0 44px rgba(34,197,94,.20); }
.neon .btn-neon  { box-shadow: 0 0 20px rgba(99,102,241,.55), 0 0 30px rgba(34,197,94,.35) !important; }

/* Scrollbar */
*::-webkit-scrollbar { height: 8px; width: 8px; }
*::-webkit-scrollbar-thumb { background: hsl(220 14% 70% / .6); border-radius: 999px; }
.dark *::-webkit-scrollbar-thumb { background: hsl(220 14% 35% / .6); }

/* Leaflet polish */
.leaflet-container { border-radius: 0.75rem; }
